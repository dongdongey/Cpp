# STL은 어떻게 생겨먹은거냐

STL(Standard Template Library)의 컨테이너들은 헤더 파일에 구현이 포함되어 있습니다. C++ 표준 라이브러리는 템플릿을 사용하여 구현되며, 이러한 템플릿들은 일반적으로 헤더 파일 내에 정의와 구현이 모두 포함되어 있어야 합니다. 이는 컴파일 시간에 템플릿 인스턴스화가 가능하게 하고, 링커 에러를 방지합니다.

STL 컨테이너와 같은 템플릿 라이브러리를 사용할 때, 컴파일러는 해당 헤더 파일을 포함하는 모든 소스 파일에서 필요한 템플릿 인스턴스를 생성합니다. 따라서, 사용자가 정의한 클래스를 템플릿 인자로 전달할 때, 해당 클래스에 대한 템플릿 코드가 이미 컴파일 시점에 생성되어 있기 때문에 링커 에러가 발생하지 않습니다.

예를 들어, `std::vector`를 사용할 때, 사용자가 정의한 `MyClass` 타입의 벡터를 생성하면, 컴파일러는 `std::vector<MyClass>`에 대한 모든 필요한 멤버 함수를 인스턴스화합니다. 이 과정은 해당 소스 파일 내에서 이루어지며, 링커가 나중에 찾을 수 있도록 해당 인스턴스화된 정의를 포함합니다.

간단히 말해, STL 컨테이너의 구현이 헤더 파일에 포함되어 있기 때문에, 사용자 정의 타입을 템플릿 인자로 사용해도 링커 에러가 발생하지 않는 것입니다. 이 방식은 템플릿 라이브러리의 일반적인 설계 패턴입니다.

 그러니까 따로 구현파일이나 목적파일이 있는게 아니라 전부 헤더파일에 정의되고 실제 컴파일러가 명령어를 만드는 것도 인스턴스가 생성될 때다